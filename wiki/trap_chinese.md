# [Linux] C Shell (csh) trap 用法: 捕获和处理信号

## 概述
`trap` 命令用于在 C Shell 脚本中捕获和处理信号。它允许用户定义在接收到特定信号时要执行的命令，从而增强脚本的控制能力和灵活性。

## 用法
基本语法如下：
```csh
trap [命令] [信号]
```

## 常用选项
- `命令`：在接收到指定信号时要执行的命令。
- `信号`：要捕获的信号名称或编号，例如 `INT`（中断信号）或 `TERM`（终止信号）。

## 常见示例
1. 捕获中断信号并执行清理操作：
   ```csh
   trap 'echo "中断信号被捕获，正在清理..."; exit' INT
   ```
   这个示例在用户按下 Ctrl+C 时，会输出一条消息并退出脚本。

2. 捕获终止信号并执行特定命令：
   ```csh
   trap 'echo "脚本被终止"; exit' TERM
   ```
   当脚本接收到终止信号时，会输出一条消息并退出。

3. 在脚本结束时执行清理操作：
   ```csh
   trap 'echo "脚本结束，执行清理操作..."' EXIT
   ```
   这个示例确保在脚本结束时执行清理操作。

## 提示
- 在使用 `trap` 时，确保捕获的信号与脚本的逻辑相符，以避免意外行为。
- 可以使用 `trap -l` 命令列出所有可用的信号名称，帮助你选择合适的信号进行捕获。
- 在复杂的脚本中，合理使用 `trap` 可以提高脚本的健壮性和用户体验。