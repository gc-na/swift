<!--
Meta Description: # Swift中的初始化器 (`init`)：全面指南 ## 簡介 `init` 是 Swift 語言中的初始化器，用於創建類別或結構的實例。它能夠設置初始值和執行必要的設置，確保物件的狀態在使用之前正確無誤。 ## 文件說明 ### 目的 `init` 初始化器的主要目的是為類別或結構的屬性設置初...
Meta Keywords: init, swift, name, age, wheels
-->

# Swift中的初始化器 (`init`)：全面指南

## 簡介
`init` 是 Swift 語言中的初始化器，用於創建類別或結構的實例。它能夠設置初始值和執行必要的設置，確保物件的狀態在使用之前正確無誤。

## 文件說明
### 目的
`init` 初始化器的主要目的是為類別或結構的屬性設置初始值，並進行任何必要的配置。每當創建實例時，`init` 會被自動調用。

### 用法
在 Swift 中，`init` 通常在類別或結構內部定義。可以有多個初始化器，並且可以使用可選參數和預設值來提供不同的初始化選項。

### 詳細說明
1. **基本初始化器**：
   每個類別或結構都必須至少有一個初始化器，來確保所有屬性都有初始值。

2. **指定初始化器與便利初始化器**：
   - **指定初始化器**：必須初始化所有屬性，並且可以調用父類的初始化器。
   - **便利初始化器**：是一種輔助初始化器，通常用於簡化初始化過程。它必須調用同類的另一個初始化器。

3. **默認初始化器**：
   如果類別或結構的所有屬性都有默認值，Swift 會自動提供一個默認初始化器。

## 範例
### 基本用法
```swift
class Person {
    var name: String
    var age: Int

    init(name: String, age: Int) {
        self.name = name
        self.age = age
    }
}

let person = Person(name: "小明", age: 25)
```

### 指定與便利初始化器
```swift
class Vehicle {
    var wheels: Int

    init(wheels: Int) {
        self.wheels = wheels
    }

    convenience init() {
        self.init(wheels: 4) // 默認為四個輪子
    }
}

let car = Vehicle() // 使用便利初始化器
```

## 解釋
- **常見陷阱**：
  - 忘記調用父類初始化器會導致編譯錯誤，特別是在涉及繼承時。
  - 確保所有屬性在初始化器內被正確設置，否則會引發運行時錯誤。

- **額外注意事項**：
  - 初始化器可以是可失敗的（failable），若初始化失敗，則返回 `nil`。
  - 在 subclasses 中，必須在所有的指定初始化器中調用父類的指定初始化器。

## 一句總結
`init` 是 Swift 中用來初始化類別和結構的關鍵字，確保物件在使用前被正確設置。